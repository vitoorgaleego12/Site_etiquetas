<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Simplificador ZPL Mercado Livre - Padr√£o Oficial</title>

  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: Inter, Arial, sans-serif;
      background: #0f1115;
      color: #eaeaea;
    }

    h1 {
      margin-bottom: 4px;
      font-size: 22px;
    }

    p {
      margin-top: 0;
      color: #9aa4b2;
      font-size: 14px;
    }

    .container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 16px;
    }

    textarea {
      width: 100%;
      height: 420px;
      background: #151922;
      color: #eaeaea;
      border: 1px solid #2a2f3a;
      border-radius: 6px;
      padding: 12px;
      resize: vertical;
      font-family: monospace;
      font-size: 13px;
    }

    .buttons {
      margin: 16px 0;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    button {
      background: #2563eb;
      border: none;
      padding: 10px 16px;
      color: #fff;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.2s;
    }

    button:hover {
      background: #1d4ed8;
    }

    button.secondary {
      background: #374151;
    }

    button.secondary:hover {
      background: #4b5563;
    }

    .preview {
      margin-top: 16px;
      background: #151922;
      border: 1px solid #2a2f3a;
      border-radius: 6px;
      padding: 10px;
      text-align: center;
      min-height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    img {
      max-width: 100%;
      max-height: 800px;
      border-radius: 4px;
    }

    footer {
      margin-top: 20px;
      font-size: 12px;
      color: #6b7280;
      text-align: center;
    }

    .info {
      background: #1e293b;
      border-left: 4px solid #2563eb;
      padding: 12px;
      border-radius: 4px;
      margin-top: 10px;
      font-size: 13px;
    }

    h3 {
      margin-top: 0;
      color: #d1d5db;
    }

    .status {
      padding: 8px 12px;
      border-radius: 4px;
      margin-top: 10px;
      font-size: 13px;
      display: none;
    }

    .success {
      background: #065f46;
      color: #d1fae5;
      border-left: 4px solid #10b981;
    }

    .warning {
      background: #92400e;
      color: #fef3c7;
      border-left: 4px solid #f59e0b;
    }

    .error {
      background: #7f1d1d;
      color: #fecaca;
      border-left: 4px solid #ef4444;
    }
  </style>
</head>

<body>

<h1>Simplificador ZPL Mercado Livre - Padr√£o Oficial</h1>
<p>Converte 2 etiquetas padr√£o Mercado Livre em 1 etiqueta compacta 4x6. Funciona para todo Brasil!</p>

<div class="info">
  <strong>‚úì Compat√≠vel com:</strong> Formato oficial do Mercado Livre - 2 etiquetas ‚Üí 1 etiqueta compacta (800x1700 dots)
</div>

<div class="status" id="statusMessage"></div>

<div class="container">
  <div>
    <h3>ZPL original (2 etiquetas)</h3>
    <textarea id="inputZpl" placeholder="Cole aqui o ZPL completo do Mercado Livre..."></textarea>
  </div>

  <div>
    <h3>ZPL simplificado (1 etiqueta)</h3>
    <textarea id="outputZpl" placeholder="ZPL compacto aparecer√° aqui..."></textarea>
  </div>
</div>

<div class="buttons">
  <button onclick="simplificarZPL()">Converter para 1 Etiqueta</button>
  <button onclick="visualizar()">Visualizar Etiqueta</button>
  <button class="secondary" onclick="copiar()">Copiar ZPL</button>
  <button class="secondary" onclick="carregarExemplo()">Carregar Exemplo</button>
  <button class="secondary" onclick="limpar()">Limpar Tudo</button>
</div>

<div class="preview" id="preview">
  <p style="color: #9ca3af;">Pr√©-visualiza√ß√£o aparecer√° aqui ap√≥s clicar em "Visualizar"</p>
</div>

<footer>
  Conversor oficial para padr√£o Mercado Livre ‚Ä¢ 2 etiquetas ‚Üí 1 etiqueta 4x6 ‚Ä¢ Compat√≠vel com todas regi√µes do Brasil
</footer>

<script>
// Mostrar mensagem de status
function mostrarStatus(mensagem, tipo) {
  const status = document.getElementById('statusMessage');
  status.textContent = mensagem;
  status.className = 'status ' + tipo;
  status.style.display = 'block';
  
  if (tipo !== 'error') {
    setTimeout(() => {
      status.style.display = 'none';
    }, 3000);
  }
}

// Fun√ß√£o principal de convers√£o
function simplificarZPL() {
  const zpl = document.getElementById('inputZpl').value.trim();
  
  if (!zpl) {
    mostrarStatus('‚ùå Cole o ZPL do Mercado Livre primeiro.', 'error');
    return;
  }

  try {
    // VALIDA√á√ÉO DO PADR√ÉO MERCADO LIVRE
    if (!zpl.includes('^XA') || !zpl.includes('^XZ')) {
      mostrarStatus('‚ùå Formato ZPL inv√°lido. Certifique-se de copiar o ZPL completo.', 'error');
      return;
    }

    // EXTRA√á√ÉO ROBUSTA DE DADOS - PADR√ÉO MERCADO LIVRE
    
    // 1. N√öMERO DE ENVIO (tracking) - Padr√£o: ^FD>:46397830183^FS
    const envioMatch = zpl.match(/\^FD>:?(\d{11})\^FS/);
    const envio = envioMatch ? envioMatch[1] : '';
    
    // 2. TN (TRANSPORTADORA) - Padr√£o: 15 d√≠gitos
    const tnMatch = zpl.match(/\^FD(\d{15})\^FS/);
    const tn = tnMatch ? tnMatch[1] : '';
    
    // 3. CHAVE NFE - Padr√£o: 44 d√≠gitos come√ßando com 35
    const chaveMatch = zpl.match(/(35\d{44})/);
    const chave = chaveMatch ? chaveMatch[0] : '';
    
    // 4. DESTINAT√ÅRIO - M√∫ltiplos padr√µes poss√≠veis
    let destinatario = 'Destinat√°rio';
    const padroesDestinatario = [
      /DESTINAT[^:]*:\s*([^^]+)/i,
      /Destinat√°rio:\s*([^^]+)/i,
      /\^FD([^^]+?)\s*\(AO\d+\)\^FS/i,
      /\^FH\^FD([^^\(]+)/i
    ];
    
    for (const padrao of padroesDestinatario) {
      const match = zpl.match(padrao);
      if (match) {
        destinatario = match[1].trim();
        // Limpar caracteres especiais e c√≥digos
        destinatario = destinatario.replace(/\\&/g, '&')
                                  .replace(/_/g, ' ')
                                  .replace(/\(AO\d+\)/g, '')
                                  .trim();
        break;
      }
    }
    
    // 5. ENDERE√áO
    let endereco = 'Endere√ßo n√£o informado';
    const enderecoMatch = zpl.match(/Endere[^:]*:\s*([^^]+)/i);
    if (enderecoMatch) {
      endereco = enderecoMatch[1].trim()
                .replace(/_/g, ' ')
                .replace(/\\&/g, '&')
                .replace(/[^\w\s√†√°√¢√£√®√©√™√¨√≠√Æ√≤√≥√¥√µ√π√∫√ª√ß√Ä√Å√Ç√É√à√â√ä√å√ç√é√í√ì√î√ï√ô√ö√õ√á\-\.,]/g, ' ')
                .replace(/\s+/g, ' ')
                .trim();
    }
    
    // 6. CIDADE/ESTADO - Padr√£o: "Cidade de destino: Nome_UF"
    let cidade = 'Cidade';
    let uf = 'UF';
    
    const cidadeMatch = zpl.match(/Cidade de destino:\s*([^^]+)/i);
    if (cidadeMatch) {
      cidade = cidadeMatch[1].trim();
      // Extrair UF (padr√£o: Murici_2c Alagoas ou S√£o Paulo_SP)
      const ufMatch = cidade.match(/_([A-Z]{2})$/i) || cidade.match(/\s([A-Z]{2})$/i);
      if (ufMatch) {
        uf = ufMatch[1].toUpperCase();
        cidade = cidade.replace(/_[A-Z]{2}$/i, '').replace(/\s[A-Z]{2}$/i, '');
      }
      cidade = cidade.replace(/_/g, ' ').replace(/\\&/g, '&').trim();
    }
    
    // 7. CEP
    const cepMatch = zpl.match(/CEP:\s*(\d{5}-?\d{3})/i) || zpl.match(/(\d{8})(?=\^FS)/);
    let cep = cepMatch ? cepMatch[1].replace('-', '') : '00000000';
    const cepFormatado = cep.length === 8 ? `${cep.substring(0,5)}-${cep.substring(5,8)}` : cep;
    
    // 8. PESO
    const pesoMatch = zpl.match(/Peso:\s*([\d.,]+)\s*k?g/i);
    const peso = pesoMatch ? pesoMatch[1].replace(',', '.') : '0.00';
    
    // 9. PE√áAS
    const pecasMatch = zpl.match(/Piezas:\s*(\d+)/i) || zpl.match(/Pe√ßas:\s*(\d+)/i) || zpl.match(/Pzs:\s*(\d+)/i);
    const pecas = pecasMatch ? pecasMatch[1] : '1';
    
    // 10. CLUSTER (XSP4, etc.)
    const clusterMatch = zpl.match(/\^FR\^FD([A-Z0-9]{3,5})\^FS/) || zpl.match(/\^FD([A-Z0-9]{3,5})\^FS/);
    const cluster = clusterMatch ? clusterMatch[1] : 'XXXX';
    
    // 11. DATA DESPACHO
    const despacharMatch = zpl.match(/Despachar:\s*([^^]+)/i);
    let despachar = despacharMatch ? despacharMatch[1].trim() : '';
    // Abreviar dias
    const abreviacoes = {
      'segunda': 'seg', 'ter√ßa': 'ter', 'quarta': 'qua',
      'quinta': 'qui', 'sexta': 'sex', 's√°bado': 's√°b',
      'domingo': 'dom'
    };
    for (const [completo, abreviado] of Object.entries(abreviacoes)) {
      despachar = despachar.replace(new RegExp(completo, 'gi'), abreviado);
    }
    
    // 12. ROTA (JETSL1, etc.)
    const rotaMatch = zpl.match(/\^FD([A-Z0-9]{5,6})\^FS.*?\^FS/s);
    const rota = rotaMatch ? rotaMatch[1] : 'ROTA';
    
    // 13. HORA
    const horaMatch = zpl.match(/\^FD(\d{2}:\d{2})\^FS/);
    const hora = horaMatch ? horaMatch[1] : '00:00';
    
    // 14. SORT CODE
    const sortCodeMatch = zpl.match(/\^FD([A-Z]{2},\d+-\d+,\d+)\^FS/);
    const sortCode = sortCodeMatch ? sortCodeMatch[1] : 'XX,000-00,000';
    
    // 15. DADOS NFE
    const numeroMatch = zpl.match(/N[^0-9]*([0-9.,]+)/i);
    let numero = numeroMatch ? numeroMatch[1].replace(/[.,]/g, '') : '00000';
    numero = numero.replace(/\B(?=(\d{3})+(?!\d))/g, '.');
    
    const serieMatch = zpl.match(/S√©rie\s*(\d+)/i) || zpl.match(/Serie\s*(\d+)/i);
    const serie = serieMatch ? serieMatch[1] : '1';
    
    const emissaoMatch = zpl.match(/(\d{2}\/\d{2}\/\d{4})/);
    const emissao = emissaoMatch ? emissaoMatch[1] : 'dd/mm/aaaa';
    
    // 16. REMETENTE
    const remetenteMatch = zpl.match(/REMETENTE:\s*([^^]+)/i);
    let remetente = remetenteMatch ? remetenteMatch[1].trim() : 'Remetente';
    remetente = remetente.replace(/\\&/g, '&').replace(/_/g, ' ').trim();
    
    // 17. CNPJ
    const cnpjMatch = zpl.match(/CNPJ:\s*(\d{2}\.?\d{3}\.?\d{3}\/?\d{4}-?\d{2})/i) || zpl.match(/(\d{14})/);
    let cnpj = cnpjMatch ? cnpjMatch[1].replace(/\D/g, '') : '';
    const cnpjFormatado = cnpj.length === 14 ? 
      `${cnpj.substring(0,2)}.${cnpj.substring(2,5)}.${cnpj.substring(5,8)}/${cnpj.substring(8,12)}-${cnpj.substring(12,14)}` : '';
    
    // 18. IE
    const ieMatch = zpl.match(/ESTADUAL:\s*([\d.-]+)/i) || zpl.match(/IE:\s*([\d.-]+)/i);
    const ie = ieMatch ? ieMatch[1].trim() : '';
    
    // 19. UF REMETENTE
    const ufRemMatch = zpl.match(/UF:\s*([A-Z]{2})/i);
    const ufRemetente = ufRemMatch ? ufRemMatch[1].toUpperCase() : 'SP';
    
    // 20. PACK ID
    const packIdMatch = zpl.match(/Pack ID:\s*(\d+)/i);
    const packId = packIdMatch ? packIdMatch[1] : '00000';
    
    // 21. LIMPAR NOME DUPLICADO (problema comum no ML)
    let nomeLimpo = destinatario;
    const palavras = destinatario.split(' ');
    if (palavras.length > 4) {
      for (let i = 0; i < palavras.length - 2; i++) {
        if (palavras[i] === palavras[Math.floor(palavras.length/2) + i]) {
          nomeLimpo = palavras.slice(0, Math.floor(palavras.length/2)).join(' ');
          break;
        }
      }
    }
    
    // VALIDA√á√ÉO DOS DADOS ESSENCIAIS
    const dadosEssenciais = { envio, chave, destinatario: nomeLimpo, cep, cidade };
    const faltantes = Object.entries(dadosEssenciais)
      .filter(([key, value]) => !value || value === '')
      .map(([key]) => key);
    
    if (faltantes.length > 0) {
      mostrarStatus(`‚ö†Ô∏è Aten√ß√£o: Campos faltantes: ${faltantes.join(', ')}. Verifique o ZPL.`, 'warning');
    }
    
    // GERAR ZPL SIMPLIFICADO - LAYOUT PADR√ÉO QUE VOC√ä QUER
    const novoZPL = `^XA
^CI28
^MCY
^LH0,0
^PW800
^LL1700

^FO20,10^GFA,800,800,10,,:::::::::::O0FF,M07JFE,L07FC003FE,K07EL07E,J01EN078,J07P0E,I01CP038,I07R0E,001CK01FK038,003L0IFK0C,0078J03803CJ0E,0187J06I07I01D8,0300F00F8J0FEFE0C,02003IFK01J06,04I01C6P02,08K0401FM01,1L08060CM083K0100C02M0C2M01001M046K0306I0CL064K0198I02L024Q01L02CR08K03CR04K03FR02K03FFQ01J07!C1FQ0C007E3C03EP0203F03C0078O010F003CI0EF1N0F8003CI070C4M06I03CI02003CL02I03CI02P02I036I03N0106I066I01J08J0C4I067J0EI08J078I0E38I03I0E00406I01C3CI01800100204I01C3CJ0FI080118I03C1EJ03800801FJ0780FK0C008018J0F^FS

^FO120,20^A0N,24,24^FD${nomeLimpo.substring(0, 30)}^FS
^FO120,45^A0N,22,22^FD${endereco.substring(0, 45)}^FS
^FO120,70^A0N,22,22^FD${cidade.substring(0, 25)} ‚Äì ${uf} ‚Äì CEP ${cepFormatado}^FS
^FO120,95^A0N,22,22^FDPack ID: ${packId}^FS

^FO20,130^GB210,40,40^FS
^FO20,136^A0N,40,40^FR^FD${cluster}^FS

^FO300,130^GB500,40,3^FS
^FO315,142^A0N,24,24^FR^FD${despachar.substring(0, 25)}^FS

^FO230,185^BY3^BCN,140,N,N,N^FD${envio || '00000000000'}^FS

^FO10,380^A0N,110,110^FD${rota}^FS
^FO650,405^A0N,40,40^FD${hora}^FS

^FO0,520^A0N,26,26^FB800,1,0,C^FD${cluster} > ${rota}^FS

^FO300,580^GB290,45,2^FS
^FO310,595^A0N,22,22^FDPeso: ${peso}kg^FS
^FO480,595^A0N,22,22^FDPzs: ${pecas}^FS

^FO70,635^GB520,45,2^FS
^FO80,648^A0N,32,32^FD${sortCode}^FS

^FO70,690^BY4^BCN,70,N,N,N^FD${tn || '000000000000000'}^FS

^FO30,780^A0N,26,26^FD${nomeLimpo.substring(0, 25)}^FS
^FO30,815^A0N,24,24^FD${endereco.substring(0, 40)}^FS
^FO30,845^A0N,24,24^FD${cidade.substring(0, 20)} ‚Äì ${uf} ‚Äì CEP ${cepFormatado}^FS

^FO640,780^BQN,2,4^FDLA,{"id":"${envio || '00000000000'}","tn":"${tn || '000000000000000'}"}^FS

^FO20,900^A0N,28,28^FDDANFE SIMPLIFICADO ‚Äì NF-e^FS
^FO20,935^A0N,22,22^FDN¬∫ ${numero}  S√©rie ${serie}  Emiss√£o ${emissao}^FS

^FO20,965^A0N,20,20^FDChave de Acesso:^FS
^FO20,990^A0N,18,18^FD${chave || '35260000000000000000000000000000000000000000'}^FS

^FO80,1020^BY2^BCN,90,Y,N,N^FD${chave || '35260000000000000000000000000000000000000000'}^FS

^FO20,1140^A0N,20,20^FD${remetente.substring(0, 35)}^FS
^FO20,1165^A0N,20,20^FD${cnpjFormatado ? 'CNPJ ' + cnpjFormatado : ''}${ie ? '  IE ' + ie : ''} ‚Äì ${ufRemetente}^FS
^FO20,1195^A0N,20,20^FDDestinat√°rio: ${nomeLimpo.substring(0, 20)} ‚Äì ${uf}^FS

^XZ`;

    document.getElementById('outputZpl').value = novoZPL.trim();
    mostrarStatus('‚úÖ Convers√£o realizada com sucesso!', 'success');
    
  } catch (error) {
    mostrarStatus(`‚ùå Erro na convers√£o: ${error.message}`, 'error');
    console.error('Erro detalhado:', error);
  }
}

// Visualizar etiqueta
function visualizar() {
  const zpl = document.getElementById('outputZpl').value.trim();
  
  if (!zpl) {
    mostrarStatus('‚ùå Gere o ZPL simplificado primeiro.', 'error');
    return;
  }

  const previewDiv = document.getElementById('preview');
  previewDiv.innerHTML = '<p>Carregando visualiza√ß√£o...</p>';
  
  // Usar API do Labelary
  const encoded = encodeURIComponent(zpl);
  const url = `https://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/${encoded}`;
  
  const img = new Image();
  img.onload = function() {
    previewDiv.innerHTML = '';
    previewDiv.appendChild(img);
  };
  
  img.onerror = function() {
    previewDiv.innerHTML = '<p style="color: #ef4444;">‚ùå Erro ao carregar visualiza√ß√£o. Verifique o ZPL.</p>';
  };
  
  img.src = url;
}

// Copiar ZPL
function copiar() {
  const output = document.getElementById('outputZpl');
  
  if (!output.value.trim()) {
    mostrarStatus('‚ùå Nada para copiar. Gere o ZPL primeiro.', 'error');
    return;
  }
  
  output.select();
  output.setSelectionRange(0, 99999);
  
  try {
    navigator.clipboard.writeText(output.value).then(() => {
      mostrarStatus('‚úÖ ZPL copiado para a √°rea de transfer√™ncia!', 'success');
    }).catch(err => {
      // Fallback para navegadores antigos
      document.execCommand('copy');
      mostrarStatus('‚úÖ ZPL copiado para a √°rea de transfer√™ncia!', 'success');
    });
  } catch (err) {
    mostrarStatus('‚úÖ ZPL copiado (m√©todo alternativo)!', 'success');
  }
}

// Carregar exemplo
function carregarExemplo() {
  const exemploZPL = `^XA
^MCY
^CI28
^LH5,15
^FX  HEADER  ^FS
^FO20,10^GFA,800,800,10,,:::::::::::O0FF,M07JFE,L07FC003FE,K07EL07E,J01EN078,J07P0E,I01CP038,I07R0E,001CK01FK038,003L0IFK0C,0078J03803CJ0E,0187J06I07I01D8,0300F00F8J0FEFE0C,02003IFK01J06,04I01C6P02,08K0401FM01,1L08060CM083K0100C02M0C2M01001M046K0306I0CL064K0198I02L024Q01L02CR08K03CR04K03FR02K03FFQ01J07!C1FQ0C007E3C03EP0203F03C0078O010F003CI0EF1N0F8003CI070C4M06I03CI02003CL02I03CI02P02I036I03N0106I066I01J08J0C4I067J0EI08J078I0E38I03I0E00406I01C3CI01800100204I01C3CJ0FI080118I03C1EJ03800801FJ0780FK0C008018J0F,078J07C0823J01F,07EJ01C1C36J07E,03FK031C3K0FC,01FCJ01E18J01F8,00FER07F,007F8P01FE,003FFP0FFC,I0FFEN07FF,I03FFCL03FFC,J0IFCJ03IF,J07PFE,K0PF,K01NF8,L01LF8,N0JF,,:::::::::::^FS
^FO120,20^A0N,24,24^FH^FDJo√£o Silva Santos #123456789^FS
^FO120,43^A0N,24,24^FH^FB550,2,0,L^FDRua das Flores 123, Centro^FS
^FO120,90^A0N,24,24^FH^FB550,1,0,L^FDS√£o Paulo, BR-SP - 01234000^FS
^FO120,120^A0N,24,24^FDPack ID: 50001^FS
^FO272,117^A0N,27,27^FD98765432100^FS
^FO20,150^GB210,45,45^FS
^FO20,156^A0N,45,45^FB210,1,0,C^FR^FDXSP4^FS
^FO300,150^GB500,45,3^FS
^FO325,163^A0N,27,27^FB460,1,0,C^FR^FH^FDDespachar: segunda 10/fev^FS
^FO230,210^BY3,,0^BCN,160,N,N,N^FD>:46397830183^FS
^FO95,382^A0N,35,35^FB390,1,0,R^FD463978^FS
^FO488,378^A0N,45,45^FB400,1,0,L^FD30183^FS
^FO10,430^A0N,130,130^FB600,1,0,R^FDJETSL1^FS
^FO660,460^A0N,45,45^FD14:30^FS
^FO0,555^A0N,28,28^FB820,2,0,C^FDXSP4 > JETSL1^FS
^FO300,710^GB290,50,2^FS
^FO465,710^GB1,50,2^FS
^FO310,730^A0N,25,25^FDPeso: 2.50 kg^FS
^FO480,730^A0N,25,25^FDPiezas: 3^FS
^FO70,770^GB520,50,2^FS
^FO80,780^A0N,40,40^FDSP,123-45,678^FS
^FO70,830^BY5,,0^BCN,80,N,N,N,A^FD888001594313003^FS
^FO45,920^A0N,30,30^FB700,1,0,C^FD888001594313003^FS
^FO0,950^GB850,0,2^FS
^FO30,965^A0N,33,33^FB600,2,0,L^FH^FDMaria Santos (AO20250121092510)^FS
^FO30,1030^A0N,26,26^FB600,2,0,L^FH^FDEndere_C3_A7o: Av. Paulista 1000_2c Bela Vista^FS
^FO30,1090^A0N,30,30^FDCEP: 01310000^FS
^FO30,1121^A0N,26,26^FB600,2,1000,L^FH^FDCidade de destino: S√£o Paulo_2c S√£o Paulo^FS
^FO640,970^BY2,2,0^BQN,2,5^FDLA,{"id":"46397830183","t":"lm","tn":"888001594313003"}^FS
^FO640,1130^GB145,40,40^FS
^FO700,1135^A0N,35,35^FR^FDR^FS
^XZ^XA
^CI28
^MCY
^FO30,20^GB265,130,3^FS
^FO40,40^A0N,20,20^FD1 - Saida^FS
^FO40,70^A0N,20,20^FH^FDN_c3_bamero  27,602/Serie 3^FS
^FO40,100^A0N,20,20^FH^FDEmiss_C3_A3o 04/02/2026^FS
^FO440,40^A0N,30,30^FDChave de acesso^FS
^FO320,70^A0N,20,20^FD35260228036976000133550030000276021157676750^FS
^FO340,100^A0N,30,30^FH^FDProtocolo de Autoriza_C3_A7_C3_A3o de uso^FS
^FO395,130^A0N,20,20^FD135260450910094 04/02/2026 07:03:59^FS
^FO135,190^BY2,,0^BCN,150,Y,N,N^FD>;35260228036976000133550030000276021157676750^FS
^FO0,380^GB800,1,3^FS
^FO40,400^A0N,20,20^FH^FDREMETENTE: A. C. PANAINO PECAS - ME^FS
^FO40,430^A0N,20,20^FDCNPJ: 28036976000133^FS
^FO310,430^A0N,20,20^FH^FDINSCRI_C3_87_C3_83O ESTADUAL: 626925080116^FS
^FO690,430^A0N,20,20^FDUF: SP^FS
^FO40,500^A0N,20,20^FH^FDDESTINATARIO: Maria Santos^FS
^FO690,530^A0N,20,20^FDUF: SP^FS
^FO40,560^A0N,20,20^FDDANFE SIMPLIFICADO^FS
^FO0,600^GB800,1,3^FS
^FO0,1000^GB800,1,3^FS
^FO40,1020^A0N,25,25^FDDADOS ADICIONAIS^FS
^FO40,1050^A0N,20,20^FB740,8,3,L^FH^FD^FS
^XZ`;
  
  document.getElementById('inputZpl').value = exemploZPL;
  mostrarStatus('‚úÖ Exemplo carregado. Clique em "Converter para 1 Etiqueta".', 'success');
}

// Limpar tudo
function limpar() {
  document.getElementById('inputZpl').value = '';
  document.getElementById('outputZpl').value = '';
  document.getElementById('preview').innerHTML = '<p style="color: #9ca3af;">Pr√©-visualiza√ß√£o aparecer√° aqui ap√≥s clicar em "Visualizar"</p>';
  document.getElementById('statusMessage').style.display = 'none';
}

// Carregar exemplo quando a p√°gina abrir
window.onload = function() {
  mostrarStatus('üëã Cole o ZPL do Mercado Livre e clique em "Converter para 1 Etiqueta".', 'success');
};
</script>

</body>
</html>